# RFC 001: Blitz CLI MVP

## Summary

Blitz will have a CLI-based interface that allows users to easily perform predefined operations and modifications to a local Blitz application. This CLI will be the primary point of interaction with Blitz and should enable users to perform all operations that may be necessary to develop a Blitz application. Any user who does not want to manually code the scaffolding for parts of their application should not be required to.

## Problem Statement

Modern application development in a JS stack is challenging. It requires deep knowledge of how various disparate libraries and components fit together. Connecting database models, APIs, HTML templates, and client-side code together to create a cohesive experience requires deep knowledge of all parts of the stack and how all of these components are configured.

Knowing how all of these systems work requires a high level of mastery - it requires developers to understand efficient database schemas, data fetching and access patterns, database configuration, application security, and more. Additionally, understanding how all of these elements fit together and consistently using them together without error requires a huge mental model. Finally, the use of these tools together can be tedious, requiring the developer to write dozens or hundreds of lines of boilerplate, all of which could be generated by a machine.

## Proposed Solution

The Blitz stack will be powered primarily by a CLI - a unified interface for all interactions with the Blitz stack. The first version of the CLI may not be fully feature-complete with the vision for the final API, but it will provide enough tooling to make users as productive as possible without providing too many configuration options so as to overwhelm them.

### Functionality

For functionality, the initial versions of the CLI should support:

- New project scaffolding
- Local development server startup
- Deployed production server startup
- Running test suites
- Code generation for existing projects
  - _Note: code gen for existing projects may not make it into the initial version._
  - Data models
  - APIs
  - Views

Future versions will add support for:

- Local + deployed database migration
- Running custom scripts installed by dependencies
- An in-console REPL which can interact with your entire application's context (similar to `rails console`)
- More advanced code generation
  - Entire client-side routes in a single command - data, routing, controllers, APIs, etc.
  - Background processing jobs
- Troubleshooting by checking for common pitfalls in local environments (similar to `bend doctor`), potentially with autofixing.

...and more! The CLI will be a living tool that will evolve as our users' needs change.

### API

Blitz will be installed as a global dependency or run via an on-demand tool like `npx`. The CLI will provide the following initial APIs as soon as possible to allow basic experimentation, and the team will work on adding the new functionality once these basic features are released.

- `blitz new [project-name]` - Generates a new application. This application will be scaffolded with a sample API, "home" page, and data model to demo how Blitz components work together, as well as a sample test suite. If project name is omitted, the CLI will use the current working directory as the package name.
- `blitz install` - Installs dependencies and runs postinstall scripts. These scripts may include tasks like database migration or TypeScript type generation.
- `blitz dev` - Starts a local development server. Static assets are served uncompiled to enable easier debugging.
- `blitz prod` - Starts a production server. This server will serve production versions of all assets, and should support, out of the box, `gzip` compression, `https`, and `http/2`.
- `blitz test [suite-name]` - Runs the projects test suite, optionally filtering by a suite name to run a subset of tests, if desired.

### Requirements

- The CLI should have no global dependencies to allow users to run without installing additional tools
- All commands should have sufficient documentation and examples for beginners to learn the tool quickly
- Configuration options should be well-documented as well, hidden options or options without examples make the tool harder to use
- Documentation should use accessible language - highly technical jargon is discouraged as it can create a barrier for learning
